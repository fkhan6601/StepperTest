mqtt:
  enabled: true
  host: 10.0.16.2
  port: 1883
  topic_prefix: frigate
  user: cedalo
  password: {pw}
auth:
  enabled: true
  failed_login_rate_limit: 1/second;5/minute;20/hour
tls:
  enabled: false
telemetry:
  stats:
    network_bandwidth: true
  network_interfaces:
    - eno1
snapshots:
  enabled: true
  crop: true
  quality: 100
ffmpeg:
  #hwaccel_args: preset-vaapi
  hwaccel_args: preset-nvidia-h265
  #- person
  #- dog
#detect:
#  min_initialized: 4
#model:
#  path: /config/model_cache/tensorrt/yolov7-320.trt
#  input_tensor: nchw
#  input_pixel_format: rgb
#  width: 320
#  height: 320
motion:
  improve_contrast: true
  threshold: 40
#audio:
  #enabled: true
  #listen:
  #- bark
  #- speech
  #- yell
  #- scream
  #- fire_alarm
detectors:
  tpu:
    type: edgetpu
    device: usb
 # dGPU:
 #   type: tensorrt
 #   device: 0
record:
  enabled: true
  retain:
    days: 14
    mode: all
  alerts:
    retain:
      days: 14
  detections:
    retain:
      days: 14
go2rtc:
  streams:
    babycamdetect:
    #  - ffmpeg:rtsp://admin:{pw}@10.0.18.4:554/Preview_01_main
      - ffmpeg:https://10.0.18.4/flv?port=1935&app=bcs&stream=channel0_ext.bcs&user=admin&password={pw}#video=copy#audio=copy#audio=opus
    livingroomdetect:
      - ffmpeg:rtsp://admin:{pw}@10.0.0.191:554/Preview_01_main
    #- ffmpeg:http://10.0.0.191/flv?port=1935&app=bcs&stream=channel0_ext.bcs&user=admin&password={pw}#video=copy#audio=copy#audio=opus
    frontwide:
      - ffmpeg:rtsp://admin:{pw}@10.0.15.2:554/h265Preview_01_main
    #- ffmpeg:http://10.0.0.195/flv?port=1935&app=bcs&stream=channel0_ext.bcs&user=admin&password={pw}
    #frontwide-main:
    #  - ffmpeg:https://10.0.0.195/flv?port=1935&app=bcs&stream=channel0_ext.bcs&user=admin&password={pw}#video=copy#audio=copy#audio=opus
    sidewide:
      - ffmpeg:rtsp://admin:{pw}@10.0.15.3:554/h265Preview_01_main
    #- ffmpeg:http://10.0.0.196/flv?port=1935&app=bcs&stream=channel0_ext.bcs&user=admin&password={pw}
    #sidewide-main:
    #  - ffmpeg:https://10.0.0.196/flv?port=1935&app=bcs&stream=channel0_ext.bcs&user=admin&password={pw}#video=copy#audio=copy#audio=opus
    rearwide:
      - ffmpeg:rtsp://admin:{pw}@10.0.15.4:554/h265Preview_01_main
    #- ffmpeg:http://10.0.0.198/flv?port=1935&app=bcs&stream=channel0_ext.bcs&user=admin&password={pw}
    #rearwide-main:
    #  - ffmpeg:https://10.0.0.198/flv?port=1935&app=bcs&stream=channel0_ext.bcs&user=admin&password={pw}#video=copy#audio=copy#audio=opus
    patiowide:
      - ffmpeg:rtsp://admin:{pw}@10.0.15.6:554/h265Preview_01_main
cameras:
  baby_camera:
    objects:
      track:
        - face
    enabled: true
    ui:
      order: 6
    mqtt:
      enabled: true
    detect:
      enabled: false
      height: 1920
      width: 2560
      fps: 6
    ffmpeg:
      output_args:
        record: preset-record-generic-audio-aac
      inputs:
      #- path: rtsp://admin:{pw}@10.0.0.192:554/Preview_01_main
        - path: rtsp://127.0.0.1:8554/babycamdetect
          input_args: preset-rtsp-restream
          roles:
            - detect
        #- audio
            - record
    #onvif:
    #  host: 10.0.0.192
    #  port: 8000
    #  user: admin
    #  password: {pw}
    #  autotracking:
    #    enabled: false
    #motion:
    #  mask:
    #    - 0,1920,2560,1920,2560,0,0,0
  frontwide:
    lpr:
      enabled: true
      expire_time: 3
      min_area: 1000
      enhancement: 0
    enabled: true
    detect:
      #height: 720
      height: 2160
      #width: 2560
      width: 7680
      fps: 6
    ui:
      order: 1
    mqtt:
      enabled: true
    audio:
      enabled: true
      listen:
        - bark
        - speech
        - yell                                                                                                                  -
        - scream
        - fire_alarm
    ffmpeg:
      output_args:
        record: preset-record-generic-audio-aac
      inputs:
        - path: rtsp://127.0.0.1:8554/frontwide
          input_args: preset-rtsp-restream
          roles:
            - detect
            - audio
            - record
      #- path: rtsp://127.0.0.1:8554/frontwide-main
      #  input_args: preset-rtsp-restream
      #  - path: rtsp://admin:{pw}@10.0.0.195:554/h265Preview_01_main
      #    roles:
      #      - detect
      #      - record
      #      - audio
        #input_args: preset-rtsp-restream
    objects:
      track:
        - person
        - dog
        - face
     # - car
    zones:
      #alert:
      #  coordinates: 789,720,1033,720,1262,720,1530,720,1670,720,1666,649,1593,505,1511,381,1437,326,1317,342,1123,330,991,322,862,330,722,350
      alert:
        coordinates: 
          0.686,0.988,0.565,0.14,0.478,0.128,0.451,0.169,0.413,0.178,0.413,0.221,0.369,0.182,0.301,0.253,0.315,0.374,0.326,0.462,0.318,0.608,0.303,0.655,0.307,0.863,0.287,0.886,0.235,0.837,0.217,0.821,0.166,0.769,0.141,0.824,0.218,1,0.325,1
    #motion:
    #  mask:
    #    - 0,0,0,105,0,272,0,486,136,544,241,462,315,431,427,319,528,198,497,82,381,0
    #    - 1969,0,2152,0,2206,43,2214,144,2148,233,2020,280,1888,214,1771,140,1845,23
    #    - 2218,85,2307,35,2432,50,2424,163,2331,291,2206,179
    #    - 866,720,851,660,789,521,800,373,656,322,501,423,330,559,245,720
        inertia: 3
        loitering_time: 0
    motion:
      mask:
        - 0,0,0,0.029,0,0.231,0,0.453,0,0.63,0,0.812,0,1,0.213,1,0.185,0.922,0.136,0.821,0.166,0.769,0.257,0.847,0.292,0.882,0.305,0.84,0.296,0.587,0.272,0.516,0.215,0.425,0.204,0.333,0.21,0.242,0.194,0.14,0.176,0.049,0.137,0
        - 0.986,0,0.963,0.134,0.932,0.276,0.911,0.333,0.837,0.325,0.758,0.322,0.684,0.202,0.688,0.108,0.702,0
        - 0.609,1,0.606,0.935,0.392,0.941,0.389,0.988
    review:
      alerts:
        required_zones: alert
      detections:
        required_zones: alert
  sidewide:
    enabled: true
    detect:
      height: 2160
      width: 7680
      #height: 720
      #width: 2560
      fps: 6
    ui:
      order: 2
    mqtt:
      enabled: true
    audio:
      enabled: true
      listen:
        - bark
        - speech
        - yell                                                                                                                  -
        - scream
        - fire_alarm
    ffmpeg:
      output_args:
        record: preset-record-generic-audio-aac
      inputs:
        - path: rtsp://127.0.0.1:8554/sidewide
          input_args: preset-rtsp-restream
          roles:
            - detect
            - audio
            - record
        #- path: rtsp://admin:{pw}@10.0.0.196:554/h265Preview_01_main
      #- path: rtsp://127.0.0.1:8554/sidewide-main
          #input_args: preset-rtsp-restream
         # roles:
          #  - record
          #  - audio
          #  - detect
    #motion:
    #  mask:
    #  - 1426,0,1449,31,1375,109,1103,252,855,0
    #  - 1655,0,1779,0,2090,0,2249,0,2028,369,1577,167
    #  - 2218,218,2521,443,2335,567,2055,482
    zones:
      #alert_1:
      #  coordinates: 361,544,497,412,781,443,536,720
      #alert_2:
      #  coordinates: 1018,221,1165,221,1375,237,1655,252,1806,311,2101,431,2296,720,559,720
      #alert_3:
      #  coordinates: 
      #    1313,474,1375,720,1515,720,1732,720,1919,720,2214,720,2350,633,2230,474,2028,505,1670,540
      alert_1:
        coordinates: 0.898,1,0.924,0.855,0.857,0.65,0.761,0.464,0.576,0.27,0.376,0.27,0.219,1
        inertia: 3
        loitering_time: 0
      alert_2:
        coordinates: 1520,2160,1674,2135,1815,1975,1963,1754,2185,1514,2345,1249,1489,1182,1028,1625
      doorperson:
        coordinates: 
          0.612,0.638,0.522,0.792,0.526,0.98,0.894,0.987,0.921,0.86,0.851,0.632,0.771,0.674
        loitering_time: 0
        objects: person
        inertia: 3
    objects:
      track:
        - person
        - dog
        - face
    review:
      alerts:
        required_zones:
          - alert_1
          - alert_2
          - doorperson
      detections:
        required_zones:
          - alert_1
          - alert_2
          - doorperson
    motion:
      mask:
        - -0.004,0.018,0.032,0.195,0.044,0.397,0.134,0.751,0.194,0.547,0.208,0.354,0.27,0.384,0.315,0.213,0.356,0.178,0.39,0.27,0.527,0.27,0.57,0.041,0.611,0.001,0.628,0.099,0.647,0.254,0.674,0.373,0.8,0.54,0.85,0.329,0.895,0.084,0.897,-0.007,0.02,-0.009,-0.008,0.051
        - 0.39,1,0.39,0.923,0.616,0.907,0.607,1
  rearwide:
    objects:
      track:
        - face
        - person
    enabled: true
    detect:
      #height: 720
      height: 2160
      width: 7680
      #width: 2560
      fps: 6
    ui:
      order: 3
    mqtt:
      enabled: true
    audio:
      enabled: true
      listen:
        - bark
        - speech
        - yell                                                                                                                  -
        - scream
        - fire_alarm
    ffmpeg:
      output_args:
        record: preset-record-generic-audio-aac
      inputs:
        - path: rtsp://127.0.0.1:8554/rearwide
          input_args: preset-rtsp-restream
          roles:
            - detect
            - audio
            - record
        #- path: rtsp://admin:{pw}@10.0.0.198:554/h265Preview_01_main
      #  - path: rtsp://127.0.0.1:8554/rearwide-main
      #    input_args: preset-rtsp-restream
        #  roles:
        #    - detect
        #    - audio
        #    - record
    #objects:
    #  track:
    #    - person
    #    - dog
    #motion:
    #  mask:
    #    - 365,66,501,47,517,252,155,509,27,350
    zones:
      #deck:
      #  coordinates: 559,377,1321,322,1449,720,299,720
      #alert_3:
      #  coordinates: 1775,350,1453,373,1558,720,2140,720
      deck:
        coordinates: 
          923,2160,1237,2160,1735,2160,2129,2123,3243,2160,4160,2160,4240,2135,4006,855,1680,1157,695,1920
      alert_3:
        coordinates: 4658,2135,6363,2160,6443,2129,5335,892,4320,991
    motion:
      mask:
        - 0.166,0,0.536,0,0.537,0.137,0.21,0.377,0.067,0.789,0,0.618,0,0
        - 1,0,0.996,0.348,0.997,0.527,0.887,0.635,0.829,0.701,0.709,0.372,0.562,0.459,0.537,0.137,0.536,0,0.644,0
        - 0.385,0.996,0.384,0.923,0.601,0.917,0.607,0.988
    review:
      alerts:
        required_zones:
          - deck
          - alert_3
      detections:
        required_zones:
          - alert_3
          - deck
  patiowide:
    enabled: false
    objects:
      track:
        - face
        - person
        - dog
    detect:
      #height: 720
      height: 2160
      width: 7680
      #width: 2560
      fps: 6
    ui:
      order: 4
    mqtt:
      enabled: true
    audio:
      enabled: true
      listen:
        - bark
        - speech
        - yell                                                                                                                  -
        - scream
        - fire_alarm
    ffmpeg:
      output_args:
        record: preset-record-generic-audio-aac
      inputs:
        - path: rtsp://127.0.0.1:8554/patiowide
          input_args: preset-rtsp-restream
          roles:
            - detect
            - audio
            - record

  livingroom_camera:
    objects:
      track:
        - face
    enabled: false
    detect:
      height: 1440
      width: 2160
    ui:
      order: 7
    mqtt:
      enabled: true
    #record:
    #  events:
    #    retain:
    #      mode: motion
    #      default: 0
    ffmpeg:
      output_args:
        record: preset-record-generic-audio-aac
      inputs:
        - path: rtsp://admin:{pw}@10.0.0.191:554/Preview_01_main
      #- path: rtsp://127.0.0.1:8554/livingroomdetect
      #  input_args: preset-rtsp-restream                                                                                                                                                            
          roles:
            - detect
        #- audio
            - record
    #motion:
      #mask:
      #- 0,1440,2560,1440,2560,0,0,0
    #onvif:
    #  host: 10.0.0.191
    #  port: 8000
    #  user: admin
    #  password: {pw}
    #  autotracking:
    #    enabled: false
    zones:
      kitchen:
        coordinates: 
          0.135,0.189,0.09,0.197,0.032,0.269,0.059,0.402,0.097,0.613,0.137,0.672,0.175,0.669,0.205,0.626,0.181,0.574
    #  fronthall:
    #    coordinates: 1897,1038,2052,1022,2371,916,2510,262,2150,204
    #  livingroom:
    #    coordinates: 
    #      0,1286,0,1440,89,1440,497,1440,769,1440,1515,1440,2113,1440,2560,1440,2560,1142,1989,1103,1371,1088,528,944
        inertia: 3
        loitering_time: 0
      upperhall:
        coordinates: 
          0.185,0.016,0.281,0.024,0.369,0.046,0.302,0.388,0.279,0.634,0.221,0.631,0.183,0.577
    #motion:
    #  mask:
    #    - 0,1440,2560,1440,2560,0,0,0
        inertia: 3
        loitering_time: 0
      basement:
        coordinates: 0.374,0.643,0.47,0.668,0.47,0.17,0.362,0.224
        loitering_time: 0
        inertia: 3
    motion:
      mask: 0.388,0.043,0.386,0.433,0.816,0.519,0.851,0.096,0.618,0.04
    review:
      alerts:
        required_zones:
          - basement
          - kitchen
          - upperhall
      detections:
        required_zones:
          - basement
          - kitchen
          - upperhall
  kitchen_cam:
    objects:
      track:
        - face
        - person
    enabled: true
    detect:
      height: 1440
      width: 2160
      enabled: false
    ui:
      order: 5
    mqtt:
      enabled: true
    ffmpeg:
      output_args:
        record: preset-record-generic-audio-aac
      inputs:
        - path: rtsp://admin:{pw}@10.0.15.5:554/Preview_01_main
          roles:
            - record
            - detect
    zones:
      kitchenPerson:
        coordinates: 0,1440,2560,1440,2560,0,0,0
      Dinningtable:
        coordinates: 
          0.681,0.264,0.863,0.26,0.928,0.046,0.997,0.05,0.999,0.995,0.989,1,0.473,1,0.481,0.71,0.5,0.377
        loitering_time: 0
        inertia: 3
    review:
      alerts:
        required_zones:
          - kitchenPerson
          - Dinningtable
  garage_cam:
    objects:
      track:
        - face
        - person
    enabled: true
    detect:
      height: 1440
      width: 2160
      fps: 6
      enabled: false
    mqtt:
      enabled: true
    ui:
      order: 8
    ffmpeg:
      output_args:
        record: preset-record-generic-audio-aac
      inputs:
        - path: rtsp://admin:{pw}@10.0.18.11:554/Preview_01_main
          roles:
            - detect
            - record
    zones:
      garagePerson:
        coordinates: 0,1440,2560,1440,2560,0,0,0
    review:
      alerts:
        required_zones: garagePerson
    motion:
      mask: 0.323,1,0.325,0.945,0.659,0.948,0.666,1
birdseye:
  enabled: true
  mode: continuous
  width: 2160
  height: 3840
  restream: false
version: 0.16-0
camera_groups:
  Inside:
    order: 2
    icon: LuHome
    cameras:
      - baby_camera
      - garage_cam
      - kitchen_cam
      - livingroom_camera
  Main:
    order: 1
    icon: LuTrees
    cameras:
      - frontwide
      - rearwide
      - sidewide
      - baby_camera
      - garage_cam
objects:
  track:
    - face
    - person
detect:
  enabled: true
semantic_search:
  enabled: true
  reindex: false
  model_size: small
face_recognition:
  enabled: true
  model_size: large
  min_area: 100
lpr:
  enabled: true
classification:
  bird:
    enabled: true